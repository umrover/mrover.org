[//]: # (TODO: Add a section about how to clone the repo and push changes. BE super clear that all Git operations should take place form the mrover.org folder, not the mrover.org/mrover folder)
[//]: # (TODO: Add a section that explains how to update each part of the page - sponsors, contact info, etc. - not just the rovers page)

[//]: # (TODO: Add a section that goes over the general process for making changes: pull, make change, test, build, push)

# mrover.org
The official website of the University of Michigan Mars Rover Team

### Development Setup

If you are on Mac or Linux, simply follow this [installation guide](https://jekyllrb.com/docs/installation/).

If you are on Windows, use this [installation guide](https://jekyllrb.com/docs/windows/).  
- If you use the Ruby Installer for Windows, you will have to run the production build command from Git Bash or a similar program (recommended)
- If you install Jekyll using the Windows Subsystem for Linux, you will have to run the bash command from Powershell to enter a bash prompt and run jekyll commands.

### Updating the Rovers Page

The content of the Rovers page is controlled by the .md files in the _roverInfo folder. The images for this page can be stored anywhere, although for the purpose of organization, we keep them in the rovers/roverImages folder.

The .md files in the _roverInfo folder contain data in a YAML frontmatter (surrounded by "---"). Use a text editor to modify the information.

To add a rover to the page, simply copy one of the .md files from a previous year and edit the data inside.

### Testing the site

To test the site, simply navigate to the `/mrover` folder in a bash terminal and run

    jekyll serve

You can connect to the site by opening your browser and navigating to `localhost:4000`. Any changes that you save will automatically trigger jekyll to rebuild the site. You can see these changes by refreshing the page.

### Building the site for production
To build the site for production, navigate to the `/mrover` folder in a bash terminal and run

    JEKYLL_ENV=production jekyll build
    
This special command is necessary to include our Google Analytics script, which is not included when simply testing the site.

Once you push to Github, Github Pages will automatically deploy the content in the /docs/ folder of the repository to the web. 

Always check the version of the site on the web after you have made your changes. Note that it can take 2-15 minutes for all updates to appear online, and you may have to disable cacheing and refresh to get the newest version of the site.

If the site is not appearing, make sure there is a file called `CNAME` (no file extension) that contains the text `mrover.org` to the docs folder.

### Using Google Analytics

Our site runs a Google Analytics script so that we can view website traffic. Head over to https://analytics.google.com/ and sign in as umrover@gmail.com to get started.

There you can find information such as which pages receive the most attention, how our viewers get to the site, what platforms our site is viewed on, user retention, when people typically view our site, and where in the world our viewers come from.

### Updating the Favicon

Go to a website such as https://favicon.io/favicon-converter/ and upload the logo you would like.

Upload your logo image, and download the folder of generated `.ico` files.

Put the `.ico` files in the `/mrover/icons` folder.

Move `favicon.ico` to the `/mrover` folder.

You may have to refresh the cache using `Ctrl-F5` (in Chrome) to see the favicon update.

### Updating Background Pictures

Replace the image with the correct name in `/mrover/css/images`.

Open the page's `.sass` file in the `_sass` folder.

Modify the `background-position` property under `.hero`.

### Updating Donors List
The donors list is located in the `_data/donors.csv file`. Update this file to add donors.

Remove last year's donors from the list once it starts to get long. When we receive the funds from Giving Blueday is probably the right time.

Donation amounts must be stored with an equal number of digits, including leading zeroes, for Jekyll to sort them correctly. For example, if the greatest donation is 3 digit, then donations with fewer digits like $50 must be entered as `050`.

### Note
Do not edit the .html or .css files in the `/docs` folder directly. These are generated by Jekyll.